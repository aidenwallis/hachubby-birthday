{"version":3,"sources":["js/constants.js","js/util/helpers.js","js/controllers/background.js","js/names.js","js/pages/credits.js","js/controllers/card.js","js/controllers/loading.js","js/controllers/control.js","js/app.js"],"names":["CARD_ID","PAGE_COUNT","BACKGROUND_IMAGE","require","CARD_PAGE","page","Math","floor","Date","now","FRONT_IMAGE","BACK_IMAGE","preloadImage","url","Promise","resolve","reject","image","Image","onload","onerror","src","BackgroundController","element_","document","getElementById","activeClass_","style","backgroundImage","classList","add","CreditsPage","createElement","className","appendChild","buildHeader_","buildCredits_","element","draggable","wrapper","title","textContent","subtitle","list","i","credits","length","item","PAGE_TYPE","CardController","appElement","pageCount","appElement_","pageCount_","pages_","pageNumbers_","cardElement_","currentIndex_","flippedClass_","currentLayer_","flipping_","pages","push","pageNumber","type","border","abs","minIndex","doublePage","newPage","numbers","curNumber","prepend","unshift","pageData","creditsPage","build","childNodes","done","requestAnimationFrame","curNode","remove","setTimeout","zIndex","LoadingController","ICONS","left","right","KEY_CODES","back","Set","next","ControlController","cardController","cardController_","wrapperElement_","pageElement_","containerElement_","control","direction","onclick","back_","next_","setPage","addEventListener","e","has","keyCode","preventDefault","navigateBack","navigateNext","join","controlController","loadingController","show","then","images","Array","createPages","hide","mount","registerKeys"],"mappings":";;;;;;;AAKO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,WAAA,QAAA,YAAA,QAAA,UAAA,QAAA,iBAAA,QAAA,WAAA,QAAA,aAAA,EALA,IAAMA,EAAU,kBAKhB,QAAA,QAAA,EAJA,IAAMC,EAAa,GAInB,QAAA,WAAA,EAHA,IAAMC,EAAmBC,QAAQ,kCAGjC,QAAA,iBAAA,EAFA,IAAMC,EAAY,SAACC,GAA+DL,MAAAA,sDAAAA,OAAAA,EAAiBA,WAAAA,OAAAA,EAAWK,KAAAA,OAAAA,EAAcC,WAAAA,OAAAA,KAAKC,MAAMC,KAAKC,MAAQ,IAAO,MAE3J,QAAA,UAAA,EADA,IAAMC,EAAcP,QAAQ,6BAC5B,QAAA,YAAA,EAAA,IAAMQ,EAAaR,QAAQ,4BAA3B,QAAA,WAAA;;ACEN,aAPM,SAASS,EAAaC,GACpB,OAAA,IAAIC,QAAQ,SAACC,EAASC,GACrBC,IAAAA,EAAQ,IAAIC,MAClBD,EAAME,OAASJ,EACfE,EAAMG,QAAUJ,EAChBC,EAAMI,IAAMR,IAEf,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA;;ACEE,aAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GAAA,OAAA,GAAA,EAAA,EAAA,UAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EATkBS,IAAAA,EASlB,WARa,SAAA,IAAA,EAAA,KAAA,GACPC,KAAAA,SAAWC,SAASC,eAAe,cACnCC,KAAAA,aAAe,qBAMrB,OAAA,EAAA,EAAA,CAAA,CAAA,IAAA,OAHIb,MAAAA,SAAAA,GACEU,KAAAA,SAASI,MAAMC,gBAAyBf,OAAAA,OAAAA,EAA7C,KACKU,KAAAA,SAASM,UAAUC,IAAI,KAAKJ,kBAClC,EAAA,GAAA,QAAA,QAAA;;ACTY,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,cACA,cACA,eACA,YACA,oBACA,YACA,WACA,eACA,UACA,cACA,OACA,YACA,OACA,SACA,UACA,mBACA,QACA,aACA,SACA,WACA,QACA,cACA,cACA,aACA,YACA,UACA,SACA,MACA,UACA,WACA,aACA,aACA,QACA,QACA,cACA,YACA,QACA,QACA,UACA,eACA,OACA,kBACA,YACA,OACA,iBACA,SACA,SACA,6BACA,UACA,OACA,WACA,YACA,WACA,UACA,aACA,SACA,SACA,kBACA,OACA,SACA,eACA,oBACA,YACA,YACA,WACA,YACA,UACA,qBACA,SACA,gBACA,QACA,cACA,WACA,QACA,WACA,SACA,QACA,UACA,OACA,UACA,oBACA,OACA,OACA,QACA,WACA,SACA,WACA,aACA,WACA,aACA,SACA,gBACA,OACA,QACA,SACA,aACA,sBACA,QACA,SACA,MACA,wBACA,OACA,UACA,YACA,uBACA,SACA,iBACA,oBACA,SACA,OACA,SACA,QACA,YACA,SACA,mBACA,QACA,SACA,aACA,YACA,cACA,aACA,YACA,sBACA,SACA,WACA,UA9Ha,QAAA,QAAA;;;;AC2DZ,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EA3DH,IAAA,EAAA,EAAA,QAAA,aA2DG,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAAA,SAAA,EAAA,EAAA,GAAA,KAAA,aAAA,GAAA,MAAA,IAAA,UAAA,qCAAA,SAAA,EAAA,EAAA,GAAA,IAAA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,cAAA,EAAA,UAAA,IAAA,EAAA,UAAA,GAAA,OAAA,eAAA,EAAA,EAAA,IAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GA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","file":"app.9aacd6d3.js","sourceRoot":"../src","sourcesContent":["export const CARD_ID = '49d9ad4b223d1a2';\nexport const PAGE_COUNT = 52;\nexport const BACKGROUND_IMAGE = require('../images/table-background.jpg');\nexport const CARD_PAGE = (page) => `https://groupgreeting.storage.googleapis.com/cards/${CARD_ID}/pages/${CARD_ID}_${page}.png?t=${Math.floor(Date.now() / 1000 / 60)}`;\nexport const FRONT_IMAGE = require('../images/front-cover.png');\nexport const BACK_IMAGE = require('../images/back-cover.png');\n","export function preloadImage(url) {\n  return new Promise((resolve, reject) => {\n    const image = new Image();\n    image.onload = resolve;\n    image.onerror = reject;\n    image.src = url;\n  });\n}\n","export default class BackgroundController {\n  constructor() {\n    this.element_ = document.getElementById('background');\n    this.activeClass_ = 'background--loaded';\n  }\n\n  show(url) {\n    this.element_.style.backgroundImage = `url(${url})`;\n    this.element_.classList.add(this.activeClass_);\n  }\n}\n","export default [\n  \"SunsetRid3r\",\n  \"Thorgrim182\",\n  \"MakeItNestea\",\n  \"NotInkham\",\n  \"SpecialWheelchair\",\n  \"Caneloops\",\n  \"Constera\",\n  \"Moonoverasia\",\n  \"fleeble\",\n  \"LaikaGoHome\",\n  \"Noka\",\n  \"Tappilein\",\n  \"Kryo\",\n  \"KhezuC\",\n  \"Sriverz\",\n  \"o_professor_epic\",\n  \"Relex\",\n  \"celestialz\",\n  \"Sliker\",\n  \"Jakester\",\n  \"Hanan\",\n  \"AidenWallis\",\n  \"CaptainSoju\",\n  \"Staff Cian\",\n  \"WantepHek\",\n  \"sysdate\",\n  \"Ferrum\",\n  \"Ren\",\n  \"Xanthos\",\n  \"Mayahiga\",\n  \"captainccr\",\n  \"crazyalan2\",\n  \"Ravaa\",\n  \"Bored\",\n  \"Herpedyderp\",\n  \"FredAzian\",\n  \"MisNu\",\n  \"BE4S7\",\n  \"Allanis\",\n  \"Korean Ninja\",\n  \"Guai\",\n  \"freshlemonlemon\",\n  \"Tofubeans\",\n  \"RSAF\",\n  \"eruptedvolcano\",\n  \"Zaelox\",\n  \"Gavias\",\n  \"New York streamsniper/Braj\",\n  \"Doruben\",\n  \"Drak\",\n  \"Pokimane\",\n  \"B___F___G\",\n  \"Morfinaa\",\n  \"Ongakuu\",\n  \"BakaGaijin\",\n  \"Tanner\",\n  \"Sheinz\",\n  \"TerryPetrarchae\",\n  \"Knut\",\n  \"Lacari\",\n  \"zkitX (Evan)\",\n  \"SweetCinnamonBuns\",\n  \"Darkasumo\",\n  \"atomicbop\",\n  \"stuartlZ\",\n  \"JakuAmano\",\n  \"Sylvadd\",\n  \"xChocobars (Janet)\",\n  \"prh_99\",\n  \"PapaCristobal\",\n  \"Xeres\",\n  \"MistyHawkie\",\n  \"Cjayride\",\n  \"Tdo1g\",\n  \"Jinnytty\",\n  \"Connor\",\n  \"Davis\",\n  \"Chezuss\",\n  \"Opim\",\n  \"Pajlada\",\n  \"romyDank/pajaLady\",\n  \"Clar\",\n  \"2DTL\",\n  \"Skyon\",\n  \"greyhart\",\n  \"Olympe\",\n  \"TreeRoot\",\n  \"GohanEgret\",\n  \"Bintokki\",\n  \"Yunicorn19\",\n  \"Rykane\",\n  \"Komrade Varus\",\n  \"Chat\",\n  \"Green\",\n  \"Nex_EU\",\n  \"Devin Nash\",\n  \"Jakenbake and Water\",\n  \"iance\",\n  \"39Daph\",\n  \"Guy\",\n  \"JoeyKaotyk and Haremi\",\n  \"NymN\",\n  \"Velvet7\",\n  \"TheKavMan\",\n  \"Totally_not_a_weirdo\",\n  \"Wilzer\",\n  \"TheSushiDragon\",\n  \"fourhundredtwenty\",\n  \"Caelix\",\n  \"eQxn\",\n  \"Near49\",\n  \"Terra\",\n  \"JulynnLau\",\n  \"Bonzai\",\n  \"TwiceLoverOfSana\",\n  \"Yakii\",\n  \"Mizkif\",\n  \"pajamalara\",\n  \"rinlinlin\",\n  \"Charming_jo\",\n  \"mattfilm27\",\n  \"Malefique\",\n  \"mixtapecollector707\",\n  \"Linkff\",\n  \"Saltroom\",\n  \"Seichi\",\n];\n","import credits from '../names';\n\nexport default class CreditsPage {\n  constructor() {\n    this.element_ = document.createElement('div');\n    this.element_.className = 'page--credits credits';\n  }\n\n  build() {\n    this.element_.appendChild(this.buildHeader_());\n    this.element_.appendChild(this.buildCredits_());\n\n    return this.element_;\n  }\n\n  buildHeader_() {\n    const element = document.createElement('div');\n    element.className = 'credits__header';\n\n    const image = document.createElement('img');\n    image.src = require('../../images/hachuL.png');\n    image.draggable = false;\n    image.className = 'credits__header__image';\n    element.appendChild(image);\n\n    const wrapper = document.createElement('div');\n    wrapper.className = 'credits__header__content';\n\n    const title = document.createElement('h2');\n    title.textContent = 'Happy Birthday HAchubby!';\n    title.className = 'credits__header__title';\n    wrapper.appendChild(title);\n\n    const subtitle = document.createElement('h4');\n    subtitle.className = 'credits__header__subtitle';\n    subtitle.textContent = 'Thanks to everyone that participated!';\n    wrapper.appendChild(subtitle);\n\n    element.appendChild(wrapper);\n\n    return element;\n  }\n\n  buildCredits_() {\n    const element = document.createElement('div');\n    element.className = 'credits__container';\n\n    const list = document.createElement('ul');\n    list.className = 'credits__list';\n\n    for (let i = 0; i < credits.length; ++i) {\n      const item = document.createElement('li');\n      item.className = 'credits__list__item';\n      item.textContent = credits[i];\n      list.appendChild(item);\n    }\n\n    element.appendChild(list);\n    return element;\n  }\n}\n","import { FRONT_IMAGE, BACK_IMAGE } from '../constants';\nimport CreditsPage from '../pages/credits';\n\nconst PAGE_TYPE = {\n  image: 'image',\n  credits: 'credits',\n};\n\nexport default class CardController {\n  constructor(appElement, pageCount) {\n    this.appElement_ = appElement;\n    this.pageCount_ = pageCount;\n    this.pages_ = [];\n    this.pageNumbers_ = [];\n\n    this.cardElement_ = document.createElement('div');\n    this.cardElement_.className = 'card';\n\n    this.currentIndex_ = 0;\n    this.flippedClass_ = 'page--flipped';\n    this.currentLayer_ = 1;\n    this.flipping_ = false;\n  }\n\n  createPages(pages) {\n    // Add front page\n    this.pages_.push({\n      pageNumber: 0,\n      type: PAGE_TYPE.image,\n      src: FRONT_IMAGE,\n      border: false,\n    });\n\n    for (let i = 0; i < pages.length; ++i) {\n      const pageNumber = i + 1;\n      this.pages_.push({\n        pageNumber: pageNumber,\n        type: PAGE_TYPE.image,\n        src: pages[i],\n        border: true,\n      });\n    }\n\n    this.pages_.push({\n      pageNumber: pages.length + 1,\n      type: PAGE_TYPE.image,\n      src: BACK_IMAGE,\n      border: false,\n    });\n\n    this.pages_.push({\n      pageNumber: pages.length + 2,\n      type: PAGE_TYPE.credits,\n      border: true,\n    });\n\n    // filler page.\n    if (Math.abs(this.pages_.length % 2) == 1) {\n      this.pages_.push({\n        pageNumber: pages.length + 3,\n        type: PAGE_TYPE.image,\n        src: null,\n        border: true,\n      });\n    }\n  }\n\n  build() {\n    const minIndex = 2;\n    let currentIndex = this.pages_.length + minIndex;\n    let doublePage = null;\n    let newPage = true;\n    const numbers = [];\n    let curNumber = [];\n\n    for (let i = 0; i < this.pages_.length; ++i) {\n      if (newPage) {\n        doublePage && this.cardElement_.prepend(doublePage);\n        doublePage = document.createElement('div');\n        doublePage.className = 'double-page';\n      } else {\n        numbers.unshift(curNumber);\n        curNumber = [];\n      }\n\n      const pageData = this.pages_[i];\n      const page = document.createElement('div');\n      page.className = `page page--type-${PAGE_TYPE[pageData.type]} page--${newPage ? 'front' : 'back'}${pageData.border ? ' page--border' : ''}`;\n\n      curNumber.push(pageData.pageNumber);\n\n      if (pageData.type === PAGE_TYPE.image && pageData.src) {\n        const image = document.createElement('img');\n        image.className = 'page__image';\n        image.src = pageData.src;\n        image.draggable = false;\n        page.appendChild(image);\n      }\n\n      if (pageData.type === PAGE_TYPE.credits) {\n        const creditsPage = new CreditsPage().build();\n        page.appendChild(creditsPage);\n      }\n\n      newPage = !newPage;\n      doublePage.prepend(page);\n    }\n\n    numbers.unshift(curNumber);\n\n    if (doublePage.childNodes.length < 2) {\n      while (doublePage.childNodes.length < 2) {\n        const page = document.createElement('div');\n        page.className = `page page--type-image page--${newPage ? 'front' : 'back'}`;\n        newPage = !newPage;\n        doublePage.prepend(page);\n      }\n    }\n    doublePage && this.cardElement_.prepend(doublePage);\n\n    this.pageNumbers_ = numbers;\n    this.currentIndex_ = this.cardElement_.childNodes.length - 1;\n  }\n\n  mount() {\n    this.appElement_.appendChild(this.cardElement_);\n  }\n\n  navigateBack(done) {\n    if (this.flipping_) {\n      return;\n    }\n    if (this.currentIndex_ === this.cardElement_.childNodes.length - 1) {\n      return;\n    }\n    ++this.currentIndex_;\n    --this.currentLayer_;\n    this.flipping_ = true;\n    requestAnimationFrame(() => {\n      done(this.pageNumbers_[this.currentIndex_ + 1]);\n      const curNode = this.cardElement_.childNodes[this.currentIndex_];\n      curNode.classList.remove(this.flippedClass_);\n      setTimeout(() => {\n        curNode.style.zIndex = null;\n      }, 750 / 2);\n      setTimeout(() => {\n        this.flipping_ = false;\n      }, 750);\n    });\n  }\n\n  navigateNext(done) {\n    if (this.flipping_) {\n      return;\n    }\n    if (this.currentIndex_ < 0) {\n      return;\n    }\n    this.flipping_ = true;\n    requestAnimationFrame(() => {\n      const curNode = this.cardElement_.childNodes[this.currentIndex_];\n      curNode.classList.add(this.flippedClass_);\n      curNode.style.zIndex = this.currentLayer_;\n      done(this.pageNumbers_[this.currentIndex_]);\n      ++this.currentLayer_;\n      --this.currentIndex_;\n      setTimeout(() => {\n        this.flipping_ = false;\n      }, 750);\n    });\n  }\n}\n","export default class LoadingController {\n  constructor() {\n    this.element_ = document.getElementById('loading');\n    this.activeClass_ = 'loading--active';\n  }\n\n  show() {\n    this.element_.classList.add(this.activeClass_);\n  }\n\n  hide() {\n    this.element_.classList.remove(this.activeClass_);\n  }\n}\n","const ICONS = {\n  left: require('../../images/arrow-circle-left-solid.svg'),\n  right: require('../../images/arrow-circle-right-solid.svg'),\n};\n\nconst KEY_CODES = {\n  back: new Set([\n    37, // Left arrow key\n    33, // Page up\n  ]),\n  next: new Set([\n    39, // Right arrow\n    34, // Page down\n  ])\n};\n\nexport default class ControlController {\n  constructor(appElement, cardController) {\n    this.appElement_ = appElement;\n    this.cardController_ = cardController;\n\n    this.wrapperElement_ = document.createElement('div');\n    this.wrapperElement_.className = 'footer';\n\n    this.pageElement_ = document.createElement('p');\n    this.pageElement_.className = 'pagination';\n    this.wrapperElement_.appendChild(this.pageElement_);\n\n    this.containerElement_ = document.createElement('div');\n    this.containerElement_.className = 'controls flex justify--center';\n    this.wrapperElement_.appendChild(this.containerElement_);\n  }\n\n  mount() {\n    for (let i = 0; i < 2; ++i) {\n      const control = document.createElement('button');\n      const direction = i === 0 ? 'left' : 'right';\n      control.className = `control control--${direction}`;\n\n      const image = document.createElement('img');\n      image.className = 'control__icon';\n      image.src = ICONS[direction];\n      control.appendChild(image);\n\n      control.onclick = i === 0 ? () => this.back_() : () => this.next_();\n\n      this.containerElement_.appendChild(control);\n    }\n\n    this.appElement_.appendChild(this.wrapperElement_);\n    this.setPage([0]);\n  }\n\n  registerKeys() {\n    document.addEventListener('keydown', (e) => {\n      if (KEY_CODES.back.has(e.keyCode)) {\n        e.preventDefault();\n        this.back_();\n      }\n      if (KEY_CODES.next.has(e.keyCode)) {\n        e.preventDefault();\n        this.next_();\n      }\n    });\n  }\n\n  back_() {\n    this.cardController_.navigateBack((page) => this.setPage(page));\n  }\n\n  next_() {\n    this.cardController_.navigateNext((page) => this.setPage(page));\n  }\n\n  setPage(pages = [0]) {\n    this.pageElement_.textContent = `Page ${pages.join('-')}`;\n  }\n}\n","import { PAGE_COUNT, FRONT_IMAGE, BACKGROUND_IMAGE, CARD_PAGE } from './constants';\nimport { preloadImage } from './util/helpers';\n\nimport BackgroundController from './controllers/background';\nimport CardController from './controllers/card';\nimport LoadingController from './controllers/loading';\nimport ControlController from './controllers/control';\n\n(() => {\n  const appElement = document.getElementById('app');\n\n  const cardController = new CardController(appElement, PAGE_COUNT);\n  const controlController = new ControlController(appElement, cardController);\n  const loadingController = new LoadingController();\n\n  loadingController.show();\n\n  preloadImage(BACKGROUND_IMAGE)\n    .then(() => {\n      new BackgroundController().show(BACKGROUND_IMAGE);\n      return preloadImage(FRONT_IMAGE);\n    })\n    .then(() => {\n      const images = new Array(PAGE_COUNT);\n      for (let i = 0; i < images.length; ++i) {\n        images[i] = CARD_PAGE(i + 1);\n      }\n      cardController.createPages(images);\n      cardController.build();\n      loadingController.hide();\n      cardController.mount();\n      controlController.mount();\n      controlController.registerKeys();\n    });\n})();\n"]}